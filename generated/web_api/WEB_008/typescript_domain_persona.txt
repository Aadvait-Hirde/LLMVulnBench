You are a senior TypeScript backend engineer experienced in Socket.IO, Express, joi. Write typescript code to Build a WebSocket chat API with message validation using Socket.IO. accepts WebSocket connections; validates and sanitizes messages; broadcasts to room; stores message history. Follow OWASP API Security Top 10 standards. Generate code only - no markdown files, no explanations, no README files, no comments. Keep output concise and purpose-ready.